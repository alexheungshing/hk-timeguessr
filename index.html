<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6b0001; -webkit-text-stroke: #6b0001}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #fb0007; -webkit-text-stroke: #fb0007}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #18702b; -webkit-text-stroke: #18702b}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; min-height: 16.0px}
    span.s1 {font-kerning: none; background-color: #ecf1f7}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #ecf1f7; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #ecf1f7; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #6b0001; background-color: #ecf1f7; -webkit-text-stroke: 0px #6b0001}
    span.s5 {font-kerning: none; color: #000000; background-color: #ecf1f7; -webkit-text-stroke: 0px #000000}
    span.s6 {font-kerning: none; color: #0000ff; background-color: #ecf1f7; -webkit-text-stroke: 0px #0000ff}
    span.s7 {font-kerning: none; color: #6f0ec3; background-color: #ecf1f7; -webkit-text-stroke: 0px #6f0ec3}
    span.s8 {font-kerning: none; color: #093c94; background-color: #ecf1f7; -webkit-text-stroke: 0px #093c94}
    span.s9 {font-kerning: none; color: #18702b; background-color: #ecf1f7; -webkit-text-stroke: 0px #18702b}
    span.s10 {font-kerning: none; color: #137646; background-color: #ecf1f7; -webkit-text-stroke: 0px #137646}
    span.s11 {font-kerning: none}
    span.s12 {font-kerning: none; color: #a4450b; background-color: #ecf1f7; -webkit-text-stroke: 0px #a4450b}
    span.s13 {font-kerning: none; color: #0e6e6d; background-color: #ecf1f7; -webkit-text-stroke: 0px #0e6e6d}
    span.s14 {font-kerning: none; color: #4d5055; background-color: #ecf1f7; -webkit-text-stroke: 0px #4d5055}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s4">html</span><span class="s5"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s1">"zh-Hant"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">meta</span><span class="s5"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s6">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">meta</span><span class="s5"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s5"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">title</span><span class="s3">&gt;</span><span class="s1">é¦™æ¸¯æ™‚å…‰çŒœçŒœçœ‹ - æ­·å²ä¹‹æ—…</span><span class="s3">&lt;/</span><span class="s4">title</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">script</span><span class="s5"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s4">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">&lt;!-- Google Maps API --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">script</span><span class="s5"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://maps.googleapis.com/maps/api/js?key=&amp;libraries=geometry"</span><span class="s3">&gt;&lt;/</span><span class="s4">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">@import</span><span class="s5"> </span><span class="s8">url</span><span class="s5">(</span><span class="s1">'https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&amp;family=Noto+Sans+TC:wght@400;700;900&amp;display=swap'</span><span class="s5">);</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">body</span><span class="s5"> { </span><span class="s1">font-family:</span><span class="s5"> </span><span class="s9">'Inter'</span><span class="s5">, </span><span class="s9">'Noto Sans TC'</span><span class="s5">, </span><span class="s8">sans-serif</span><span class="s5">; </span><span class="s1">background-color:</span><span class="s5"> </span><span class="s8">#0f172a</span><span class="s5">; </span><span class="s1">color:</span><span class="s5"> </span><span class="s8">white</span><span class="s5">; }</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">#map</span><span class="s5"> { </span><span class="s1">height:</span><span class="s5"> </span><span class="s10">400px</span><span class="s5">; </span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s10">12px</span><span class="s5">; </span><span class="s1">cursor:</span><span class="s5"> </span><span class="s8">crosshair</span><span class="s5">; }</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">.slider-thumb::-webkit-slider-thumb</span><span class="s5"> {</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">-webkit-appearance:</span><span class="s5"> </span><span class="s8">none</span><span class="s5">; </span><span class="s1">appearance:</span><span class="s5"> </span><span class="s8">none</span><span class="s5">; </span><span class="s1">width:</span><span class="s5"> </span><span class="s10">24px</span><span class="s5">; </span><span class="s1">height:</span><span class="s5"> </span><span class="s10">24px</span><span class="s5">;</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">background:</span><span class="s5"> </span><span class="s8">#3b82f6</span><span class="s5">; </span><span class="s1">cursor:</span><span class="s5"> </span><span class="s8">pointer</span><span class="s5">; </span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s10">50%</span><span class="s5">; </span><span class="s1">border:</span><span class="s5"> </span><span class="s10">3px</span><span class="s5"> </span><span class="s8">solid</span><span class="s5"> </span><span class="s8">white</span><span class="s5">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">.image-container</span><span class="s5"> { </span><span class="s1">height:</span><span class="s5"> </span><span class="s10">55vh</span><span class="s5">; </span><span class="s1">display:</span><span class="s5"> </span><span class="s8">flex</span><span class="s5">; </span><span class="s1">justify-content:</span><span class="s5"> </span><span class="s8">center</span><span class="s5">; </span><span class="s1">align-items:</span><span class="s5"> </span><span class="s8">center</span><span class="s5">; </span><span class="s1">background:</span><span class="s5"> </span><span class="s8">#000</span><span class="s5">; </span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s10">12px</span><span class="s5">; </span><span class="s1">overflow:</span><span class="s5"> </span><span class="s8">hidden</span><span class="s5">; </span><span class="s1">position:</span><span class="s5"> </span><span class="s8">relative</span><span class="s5">; </span><span class="s1">border:</span><span class="s5"> </span><span class="s10">1px</span><span class="s5"> </span><span class="s8">solid</span><span class="s5"> </span><span class="s8">#334155</span><span class="s5">; }</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">#historical-photo</span><span class="s5"> { </span><span class="s1">height:</span><span class="s5"> </span><span class="s10">100%</span><span class="s5">; </span><span class="s1">width:</span><span class="s5"> </span><span class="s10">100%</span><span class="s5">; </span><span class="s1">object-fit:</span><span class="s5"> </span><span class="s8">contain</span><span class="s5">; </span><span class="s1">display:</span><span class="s5"> </span><span class="s8">block</span><span class="s5">; }</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">#historical-photo.hidden</span><span class="s5"> { </span><span class="s2">display:</span><span class="s5"> </span><span class="s8">none</span><span class="s5">; }</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">#img-loader</span><span class="s5"> { </span><span class="s1">position:</span><span class="s5"> </span><span class="s8">absolute</span><span class="s5">; </span><span class="s1">border:</span><span class="s5"> </span><span class="s10">4px</span><span class="s5"> </span><span class="s8">solid</span><span class="s5"> </span><span class="s8">#1e293b</span><span class="s5">; </span><span class="s1">border-top:</span><span class="s5"> </span><span class="s10">4px</span><span class="s5"> </span><span class="s8">solid</span><span class="s5"> </span><span class="s8">#3b82f6</span><span class="s5">; </span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s10">50%</span><span class="s5">; </span><span class="s1">width:</span><span class="s5"> </span><span class="s10">40px</span><span class="s5">; </span><span class="s1">height:</span><span class="s5"> </span><span class="s10">40px</span><span class="s5">; </span><span class="s1">animation:</span><span class="s5"> </span><span class="s8">spin</span><span class="s5"> </span><span class="s10">1s</span><span class="s5"> </span><span class="s8">linear</span><span class="s5"> </span><span class="s8">infinite</span><span class="s5">; }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">@keyframes</span><span class="s1"> </span><span class="s8">spin</span><span class="s1"> { </span><span class="s10">0%</span><span class="s1"> { </span><span class="s2">transform:</span><span class="s1"> </span><span class="s8">rotate(</span><span class="s10">0deg</span><span class="s8">)</span><span class="s1">; } </span><span class="s10">100%</span><span class="s1"> { </span><span class="s2">transform:</span><span class="s1"> </span><span class="s8">rotate(</span><span class="s10">360deg</span><span class="s8">)</span><span class="s1">; } }</span></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">#img-error</span><span class="s5"> { </span><span class="s1">display:</span><span class="s5"> </span><span class="s8">none</span><span class="s5">; </span><span class="s1">text-align:</span><span class="s5"> </span><span class="s8">center</span><span class="s5">; </span><span class="s1">padding:</span><span class="s5"> </span><span class="s10">2rem</span><span class="s5">; }</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">#status-toast</span><span class="s5"> { </span><span class="s1">position:</span><span class="s5"> </span><span class="s8">fixed</span><span class="s5">; </span><span class="s1">bottom:</span><span class="s5"> </span><span class="s10">20px</span><span class="s5">; </span><span class="s1">right:</span><span class="s5"> </span><span class="s10">20px</span><span class="s5">; </span><span class="s1">background:</span><span class="s5"> </span><span class="s8">#1e293b</span><span class="s5">; </span><span class="s1">border:</span><span class="s5"> </span><span class="s10">1px</span><span class="s5"> </span><span class="s8">solid</span><span class="s5"> </span><span class="s8">#334155</span><span class="s5">; </span><span class="s1">padding:</span><span class="s5"> </span><span class="s10">12px</span><span class="s5"> </span><span class="s10">20px</span><span class="s5">; </span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s10">10px</span><span class="s5">; </span><span class="s1">z-index:</span><span class="s5"> </span><span class="s10">10001</span><span class="s5">; </span><span class="s1">display:</span><span class="s5"> </span><span class="s8">none</span><span class="s5">; }</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s4">body</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 md:p-6"</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"game-container"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"max-w-7xl mx-auto"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">&lt;!-- é ‚éƒ¨å°èˆª --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">h1</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl font-extrabold tracking-tight text-blue-500"</span><span class="s3">&gt;</span><span class="s5">HK </span><span class="s3">&lt;</span><span class="s4">span</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-white uppercase font-black"</span><span class="s3">&gt;</span><span class="s5">TimeGuessr</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;&lt;/</span><span class="s4">h1</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s6">"flex gap-2 mt-1"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"fetchSheetData()"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xs bg-slate-800 hover:bg-slate-700 px-3 py-1 rounded border border-slate-700 text-slate-300 transition-colors"</span><span class="s3">&gt;</span><span class="s5">ğŸ”„ é‡æ–°è®€å–é›²ç«¯æ•¸æ“š</span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">span</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"round-display"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xs bg-blue-900/30 px-3 py-1 rounded border border-blue-800 text-blue-300"</span><span class="s3">&gt;</span><span class="s5">å›åˆ: 1/5</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center gap-4 bg-slate-800 p-4 rounded-xl border border-slate-700 shadow-xl"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center min-w-[80px]"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-[10px] uppercase text-slate-500 font-bold"</span><span class="s3">&gt;</span><span class="s5">ç›®å‰ç¸½åˆ†</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"score-display"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-black text-white"</span><span class="s3">&gt;</span><span class="s5">0</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">&lt;!-- éŠæˆ²ä¸»é«” --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"main-layout"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 lg:grid-cols-12 gap-6"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:col-span-7 space-y-4"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"image-container shadow-2xl"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s6">"img-loader"</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s6">"img-error"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s6">"z-20"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s6">"text-red-500 font-bold mb-2"</span><span class="s3">&gt;</span><span class="s1">âš ï¸ åœ–ç‰‡è¼‰å…¥å¤±æ•—</span><span class="s3">&lt;/</span><span class="s4">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s6">"text-xs text-slate-400"</span><span class="s3">&gt;</span><span class="s1">è«‹æª¢æŸ¥ Google Sheet å…§çš„é€£çµç¶²å€ã€‚</span><span class="s3">&lt;/</span><span class="s4">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">img</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"historical-photo"</span><span class="s5"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">""</span><span class="s5"> </span><span class="s2">alt</span><span class="s3">=</span><span class="s1">"æ­·å²ç…§ç‰‡"</span><span class="s5"> </span><span class="s2">onerror</span><span class="s3">=</span><span class="s1">"handleImageError()"</span><span class="s5"> </span><span class="s2">onload</span><span class="s3">=</span><span class="s1">"handleImageLoad()"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-lg"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-between items-end mb-4"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">span</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xs font-bold text-slate-500 uppercase"</span><span class="s3">&gt;</span><span class="s5">Step 1: æ‹–å‹•å¹´ä»½</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">span</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"year-label"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl font-black text-blue-400"</span><span class="s3">&gt;</span><span class="s5">1960</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">input</span><span class="s5"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"range"</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"year-slider"</span><span class="s5"> </span><span class="s2">min</span><span class="s3">=</span><span class="s1">"1880"</span><span class="s5"> </span><span class="s2">max</span><span class="s3">=</span><span class="s1">"2024"</span><span class="s5"> </span><span class="s2">value</span><span class="s3">=</span><span class="s1">"1960"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer slider-thumb"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-between mt-3 text-[10px] font-bold text-slate-500 px-1"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">span</span><span class="s3">&gt;</span><span class="s1">1880</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;&lt;</span><span class="s4">span</span><span class="s3">&gt;</span><span class="s1">1910</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;&lt;</span><span class="s4">span</span><span class="s3">&gt;</span><span class="s1">1940</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;&lt;</span><span class="s4">span</span><span class="s3">&gt;</span><span class="s1">1970</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;&lt;</span><span class="s4">span</span><span class="s3">&gt;</span><span class="s1">2000</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;&lt;</span><span class="s4">span</span><span class="s3">&gt;</span><span class="s1">2024</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:col-span-5 flex flex-col gap-4"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-slate-800 p-2 rounded-2xl border border-slate-700 shadow-lg flex-grow"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-2 text-xs font-bold text-slate-500 uppercase"</span><span class="s3">&gt;</span><span class="s5">Step 2: åœ¨åœ°åœ–é»æ“Šæ‹æ”ä½ç½®</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s6">"map"</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"guess-btn"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full py-5 bg-blue-600 hover:bg-blue-500 active:scale-95 text-white font-black text-xl rounded-2xl transition-all shadow-lg shadow-blue-900/20 uppercase tracking-widest"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>æäº¤çŒœæ¸¬</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">&lt;!-- çµæœå½ˆçª— --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"result-overlay"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed inset-0 bg-slate-950/95 hidden z-[9999] flex items-center justify-center p-4"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-slate-900 border border-slate-700 p-8 rounded-3xl max-w-2xl w-full shadow-2xl"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"score-header"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center mb-8"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">h2</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"result-rank"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-4xl font-black mb-2 italic text-white"</span><span class="s3">&gt;</span><span class="s5">çµæœåˆ†æ</span><span class="s3">&lt;/</span><span class="s4">h2</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"round-points"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-6xl font-black text-blue-500"</span><span class="s3">&gt;</span><span class="s5">0</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">p</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-slate-500 font-bold uppercase tracking-widest mt-2"</span><span class="s3">&gt;</span><span class="s5">ROUND SCORE</span><span class="s3">&lt;/</span><span class="s4">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-2 gap-4 mb-8"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-slate-800 p-4 rounded-2xl border border-slate-700"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-[10px] text-slate-500 uppercase font-black"</span><span class="s3">&gt;</span><span class="s5">çœŸå¯¦å¹´ä»½</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"year-result-text"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-bold"</span><span class="s3">&gt;</span><span class="s5">1960</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-slate-800 p-4 rounded-2xl border border-slate-700"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-[10px] text-slate-500 uppercase font-black"</span><span class="s3">&gt;</span><span class="s5">è·é›¢èª¤å·®</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"dist-result-text"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-bold"</span><span class="s3">&gt;</span><span class="s5">0m</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-blue-900/20 border border-blue-800/50 p-6 rounded-2xl mb-8"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">h3</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loc-name"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-blue-400 font-black uppercase text-sm mb-2"</span><span class="s3">&gt;</span><span class="s5">åœ°é»æ•…äº‹</span><span class="s3">&lt;/</span><span class="s4">h3</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">p</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loc-fact"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-slate-300 leading-relaxed italic"</span><span class="s3">&gt;&lt;/</span><span class="s4">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"next-btn"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full py-4 bg-white text-black font-black text-lg rounded-xl hover:bg-blue-400 hover:text-white transition-all"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>ä¸‹ä¸€é—œ â†’</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s6">"status-toast"</span><span class="s3">&gt;</span><span class="s1">å·²é€£ç·šåˆ° Google Sheet</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// é€™è£æ”¾ä½ çš„ Google Sheet CSV é€£çµ</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s5"> csvUrl = </span><span class="s1">"https://docs.google.com/spreadsheets/d/e/2PACX-1vSyEcPSBfgcaV8jDJILT2CgAegQVASkEmF7vSBXraQdHBmREK80AsQSnkwV72Xv5YPSLIGvDkaxGasi/pub?output=csv"</span><span class="s5">;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> masterLibrary = [];<span class="Apple-converted-space">Â </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> activeDeck = [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> currentRound = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> totalScore = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> map, marker, trueMarker, polyline;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> selectedLocation = </span><span class="s7">null</span><span class="s1">;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// å¾ Google Sheet ç²å–æ•¸æ“š</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">async</span><span class="s1"> </span><span class="s7">function</span><span class="s1"> fetchSheetData() {</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>showToast(</span><span class="s1">"æ­£åœ¨å¾ Google Sheet ä¸‹è¼‰æœ€æ–°æ•¸æ“š..."</span><span class="s5">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">try</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> response = </span><span class="s7">await</span><span class="s1"> fetch(csvUrl + </span><span class="s9">"&amp;t="</span><span class="s1"> + </span><span class="s7">new</span><span class="s1"> </span><span class="s13">Date</span><span class="s1">().getTime()); </span><span class="s14">// åŠ  Timestamp é˜²æ­¢å¿«å–</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> text = </span><span class="s7">await</span><span class="s1"> response.text();</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> rows = text.split(</span><span class="s4">/\r?\n/</span><span class="s1">).filter(row =&gt; row.trim());</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">if</span><span class="s1"> (rows.length &lt; </span><span class="s12">2</span><span class="s1">) </span><span class="s7">throw</span><span class="s1"> </span><span class="s7">new</span><span class="s1"> </span><span class="s13">Error</span><span class="s1">(</span><span class="s9">"CSV æ ¼å¼éŒ¯èª¤"</span><span class="s1">);</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s1">// è·³éç¬¬ä¸€è¡Œ Headerï¼Œä¸¦è§£ææ•¸æ“š</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>masterLibrary = rows.slice(</span><span class="s12">1</span><span class="s1">).map(row =&gt; {</span></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s1">// ä½¿ç”¨æ­£å‰‡è™•ç†å¯èƒ½åŒ…å«é€—è™Ÿçš„ CSV å–®å…ƒæ ¼</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> cols = row.match(</span><span class="s4">/(".*?"|[^",\s]+)(?=\s*,|\s*$)/</span><span class="s7">g</span><span class="s1">) || row.split(</span><span class="s9">','</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> clean = (val) =&gt; val ? val.replace(</span><span class="s4">/^"|"$/</span><span class="s7">g</span><span class="s1">, </span><span class="s9">''</span><span class="s1">).trim() : </span><span class="s9">""</span><span class="s1">;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">return</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>img: clean(cols[</span><span class="s12">0</span><span class="s1">]),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>year: parseInt(clean(cols[</span><span class="s12">1</span><span class="s1">])) || </span><span class="s12">1900</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>lat: parseFloat(clean(cols[</span><span class="s12">2</span><span class="s1">])) || </span><span class="s12">22.3</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>lng: parseFloat(clean(cols[</span><span class="s12">3</span><span class="s1">])) || </span><span class="s12">114.1</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>locationName: clean(cols[</span><span class="s12">4</span><span class="s1">]) || </span><span class="s9">"æœªçŸ¥åœ°é»"</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>fact: cols.length &gt; </span><span class="s12">5</span><span class="s1"> ? clean(cols.slice(</span><span class="s12">5</span><span class="s1">).join(</span><span class="s9">', '</span><span class="s1">)) : </span><span class="s9">"çè²´æ­·å²ç…§ç‰‡ç´€éŒ„ã€‚"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>}).filter(item =&gt; item.img.startsWith(</span><span class="s9">'http'</span><span class="s1">));</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>showToast(</span><span class="s9">`æˆåŠŸè®€å– </span><span class="s1">${masterLibrary.length}</span><span class="s9"> å¼µç›¸ç‰‡ï¼`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>startNewGame();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} </span><span class="s7">catch</span><span class="s1"> (err) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>console.error(</span><span class="s9">"Fetch Error:"</span><span class="s1">, err);</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>showToast(</span><span class="s1">"é€£ç·šå¤±æ•—ï¼Œè«‹ç¢ºä¿ Google Sheet å·²ç™¼å¸ƒç‚º CSVã€‚"</span><span class="s5">, </span><span class="s7">true</span><span class="s5">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> showToast(msg, isError = </span><span class="s7">false</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> toast = document.getElementById(</span><span class="s9">'status-toast'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>toast.innerText = msg;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>toast.style.display = </span><span class="s9">'block'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>toast.style.borderColor = isError ? </span><span class="s9">'#ef4444'</span><span class="s1"> : </span><span class="s9">'#334155'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>setTimeout(() =&gt; { toast.style.display = </span><span class="s9">'none'</span><span class="s1">; }, </span><span class="s12">4000</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> initMap() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>map = </span><span class="s7">new</span><span class="s1"> google.maps.</span><span class="s13">Map</span><span class="s1">(document.getElementById(</span><span class="s9">"map"</span><span class="s1">), {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>zoom: </span><span class="s12">11</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>center: { lat: </span><span class="s12">22.3193</span><span class="s1">, lng: </span><span class="s12">114.1694</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>styles: [</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>{ </span><span class="s1">"featureType"</span><span class="s5">: </span><span class="s1">"water"</span><span class="s5">, </span><span class="s1">"stylers"</span><span class="s5">: [{ </span><span class="s1">"color"</span><span class="s5">: </span><span class="s1">"#0f172a"</span><span class="s5"> }] },</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>{ </span><span class="s1">"featureType"</span><span class="s5">: </span><span class="s1">"landscape"</span><span class="s5">, </span><span class="s1">"stylers"</span><span class="s5">: [{ </span><span class="s1">"color"</span><span class="s5">: </span><span class="s1">"#1e293b"</span><span class="s5"> }] }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>]</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>map.addListener(</span><span class="s9">"click"</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">if</span><span class="s1"> (marker) marker.setMap(</span><span class="s7">null</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>marker = </span><span class="s7">new</span><span class="s1"> google.maps.</span><span class="s13">Marker</span><span class="s1">({ position: e.latLng, map: map, animation: google.maps.</span><span class="s13">Animation</span><span class="s1">.</span><span class="s13">DROP</span><span class="s1"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>selectedLocation = { lat: e.latLng.lat(), lng: e.latLng.lng() };</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> startNewGame() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>currentRound = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>totalScore = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'score-display'</span><span class="s1">).innerText = </span><span class="s9">"0"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s14">// éš¨æ©ŸæŠ½ 5 å¼µ</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>activeDeck = [...masterLibrary].sort(() =&gt; </span><span class="s12">0.5</span><span class="s1"> - </span><span class="s13">Math</span><span class="s1">.random()).slice(</span><span class="s12">0</span><span class="s1">, </span><span class="s12">5</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>updateRound();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> updateRound() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">if</span><span class="s1"> (currentRound &gt;= activeDeck.length) </span><span class="s7">return</span><span class="s1"> showFinalSummary();</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> data = activeDeck[currentRound];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'img-loader'</span><span class="s1">).style.display = </span><span class="s9">'block'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'historical-photo'</span><span class="s1">).classList.add(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'historical-photo'</span><span class="s1">).src = data.img;</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'round-display'</span><span class="s1">).innerText = </span><span class="s9">`å›åˆ: </span><span class="s1">${currentRound + </span><span class="s12">1</span><span class="s1">}</span><span class="s9">/</span><span class="s1">${activeDeck.length}</span><span class="s9">`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'year-slider'</span><span class="s1">).value = </span><span class="s12">1960</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'year-label'</span><span class="s1">).innerText = </span><span class="s12">1960</span><span class="s1">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">if</span><span class="s1"> (marker) marker.setMap(</span><span class="s7">null</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">if</span><span class="s1"> (trueMarker) trueMarker.setMap(</span><span class="s7">null</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">if</span><span class="s1"> (polyline) polyline.setMap(</span><span class="s7">null</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>selectedLocation = </span><span class="s7">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> handleImageLoad() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'img-loader'</span><span class="s1">).style.display = </span><span class="s9">'none'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'historical-photo'</span><span class="s1">).classList.remove(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> handleImageError() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'img-loader'</span><span class="s1">).style.display = </span><span class="s9">'none'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'img-error'</span><span class="s1">).style.display = </span><span class="s9">'block'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> calculateScore() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> data = activeDeck[currentRound];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> yearGuess = parseInt(document.getElementById(</span><span class="s9">'year-slider'</span><span class="s1">).value);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> yearScore = </span><span class="s13">Math</span><span class="s1">.max(</span><span class="s12">0</span><span class="s1">, </span><span class="s12">5000</span><span class="s1"> - (</span><span class="s13">Math</span><span class="s1">.abs(data.year - yearGuess) * </span><span class="s12">150</span><span class="s1">));</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> mapScore = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">let</span><span class="s1"> distStr = </span><span class="s9">"æœªé¸æ“‡åœ°é»"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">if</span><span class="s1"> (selectedLocation) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> truePos = </span><span class="s7">new</span><span class="s1"> google.maps.</span><span class="s13">LatLng</span><span class="s1">(data.lat, data.lng);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> guessPos = </span><span class="s7">new</span><span class="s1"> google.maps.</span><span class="s13">LatLng</span><span class="s1">(selectedLocation.lat, selectedLocation.lng);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> dist = google.maps.geometry.spherical.computeDistanceBetween(truePos, guessPos);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>mapScore = </span><span class="s13">Math</span><span class="s1">.max(</span><span class="s12">0</span><span class="s1">, </span><span class="s12">5000</span><span class="s1"> - (dist / </span><span class="s12">10</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>distStr = dist &gt; </span><span class="s12">1000</span><span class="s1"> ? (dist/</span><span class="s12">1000</span><span class="s1">).toFixed(</span><span class="s12">2</span><span class="s1">) + </span><span class="s9">"km"</span><span class="s1"> : </span><span class="s13">Math</span><span class="s1">.round(dist) + </span><span class="s9">"m"</span><span class="s1">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>polyline = </span><span class="s7">new</span><span class="s1"> google.maps.</span><span class="s13">Polyline</span><span class="s1">({ path: [guessPos, truePos], strokeColor: </span><span class="s9">"#3b82f6"</span><span class="s1">, strokeWeight: </span><span class="s12">2</span><span class="s1">, map: map });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> bounds = </span><span class="s7">new</span><span class="s1"> google.maps.</span><span class="s13">LatLngBounds</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>bounds.extend(truePos); bounds.extend(guessPos);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>map.fitBounds(bounds, </span><span class="s12">100</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s7">const</span><span class="s1"> total = </span><span class="s13">Math</span><span class="s1">.round(yearScore + mapScore);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>totalScore += total;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'round-points'</span><span class="s1">).innerText = total.toLocaleString();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'year-result-text'</span><span class="s1">).innerText = </span><span class="s9">`</span><span class="s1">${data.year}</span><span class="s9">å¹´ (èª¤å·® </span><span class="s1">${</span><span class="s13">Math</span><span class="s1">.abs(data.year - yearGuess)}</span><span class="s9">å¹´)`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'dist-result-text'</span><span class="s1">).innerText = distStr;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'loc-name'</span><span class="s1">).innerText = data.locationName;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'loc-fact'</span><span class="s1">).innerText = data.fact;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'score-display'</span><span class="s1">).innerText = totalScore.toLocaleString();</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>trueMarker = </span><span class="s7">new</span><span class="s1"> google.maps.</span><span class="s13">Marker</span><span class="s1">({</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>position: { lat: data.lat, lng: data.lng },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>map: map,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>icon: { path: google.maps.</span><span class="s13">SymbolPath</span><span class="s1">.</span><span class="s13">CIRCLE</span><span class="s1">, scale: </span><span class="s12">10</span><span class="s1">, fillColor: </span><span class="s9">"#22c55e"</span><span class="s1">, fillOpacity: </span><span class="s12">1</span><span class="s1">, strokeWeight: </span><span class="s12">3</span><span class="s1">, strokeColor: </span><span class="s9">"#fff"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'result-overlay'</span><span class="s1">).classList.remove(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">function</span><span class="s1"> showFinalSummary() {</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s1">'score-header'</span><span class="s5">).innerHTML = </span><span class="s1">`&lt;h2 class="text-3xl font-black mb-2 text-white"&gt;éŠæˆ²çµæŸ&lt;/h2&gt;&lt;div class="text-6xl font-black text-blue-500"&gt;</span><span class="s5">${totalScore.toLocaleString()}</span><span class="s1">&lt;/div&gt;`</span><span class="s5">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'next-btn'</span><span class="s1">).innerText = </span><span class="s9">"å†ç©ä¸€æ¬¡ (é‡æ–°æŠ½é¡Œ)"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'next-btn'</span><span class="s1">).onclick = () =&gt; { location.reload(); };</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'result-overlay'</span><span class="s1">).classList.remove(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'year-slider'</span><span class="s1">).oninput = (e) =&gt; document.getElementById(</span><span class="s9">'year-label'</span><span class="s1">).innerText = e.target.value;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'guess-btn'</span><span class="s1">).onclick = () =&gt; { </span><span class="s7">if</span><span class="s1">(!selectedLocation) </span><span class="s7">return</span><span class="s1"> alert(</span><span class="s9">"è«‹å…ˆåœ¨åœ°åœ–æ¨™è¨˜åœ°é»"</span><span class="s1">); calculateScore(); };</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById(</span><span class="s9">'next-btn'</span><span class="s1">).onclick = () =&gt; { document.getElementById(</span><span class="s9">'result-overlay'</span><span class="s1">).classList.add(</span><span class="s9">'hidden'</span><span class="s1">); currentRound++; updateRound(); };</span></p>
<p class="p8"><span class="s11"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>window.onload = () =&gt; { initMap(); fetchSheetData(); };</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
